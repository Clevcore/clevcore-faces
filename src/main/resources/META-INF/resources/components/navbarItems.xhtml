<ui:composition xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:jsf="http://xmlns.jcp.org/jsf" xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:h="http://xmlns.jcp.org/jsf/html"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:composite="http://xmlns.jcp.org/jsf/composite"
    xmlns:cc="http://xmlns.jcp.org/jsf/composite/components">
    <composite:interface componentType="#{bbClevcore.NAVBAR_ITEMS}">
        <composite:attribute name="id" />
        <composite:attribute name="styleClass" />
        <composite:attribute name="style" />
        <composite:attribute name="icon" />
        <composite:attribute name="value" />
        <composite:attribute name="rendered" />
        <composite:attribute name="animateIn"
            default="#{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) ? 'zoomFadeIn' : 'fadeIn'}" />
        <composite:attribute name="animateOut"
            default="#{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) ? 'zoomFadeOut' : 'fadeOut'}" />
        <composite:attribute name="position" default="left"
            shortDescription="Position indication of the component on screen. Valid values are: left and right. The default value is 'left'." />
        <composite:attribute name="opened" default="false"
            type="java.lang.Boolean" />
        <composite:attribute name="showIconCaret"
            default="#{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) ? 'false' : 'true'}"
            type="java.lang.Boolean"  />
    </composite:interface>

    <composite:implementation>
        <h:panelGroup rendered="#{cc.attrs.rendered}">
            <li>
                <h:outputLink
                    styleClass="#{cc.attrs.value == null ? 'pLeftLarge pRightLarge' : ''}"
                    value="#!"
                    onclick="#{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) ? 'showNavbarItems' : 'accordionNavbarItems'}('#{cc.clientId}:navbarItems');">
                    <cc:icon
                        styleClass="fs18 #{cc.attrs.value != null ? 'pRightNormal' : ''}"
                        value="#{cc.attrs.icon}"
                        rendered="#{cc.attrs.icon != null}" />
                    <h:outputText value="#{cc.attrs.value}"
                        rendered="#{cc.attrs.value != null}" />
                    <cc:icon styleClass="pLeftNormal fs12" value="caret-down"
                        rendered="#{cc.attrs.showIconCaret}" />
                </h:outputLink>
                
                <h:panelGroup layout="block" styleClass="pRelative">
                    <h:panelGroup id="navbarItems" layout="block"
                        styleClass="items #{cc.attrs.position == 'right' ? 'aRight' : 'aLeft'} #{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) ? 'dNone' : ''}">
                        <c:if
                            test="#{bbClevcore.isComponent(bbClevcore.NAVBAR_SIDE, cc.parent)}">
                            <f:passThroughAttribute name="data-opened"
                                value="#{cc.attrs.opened}" />
                        </c:if> 
                        <f:passThroughAttribute name="data-animatein"
                            value="#{cc.attrs.animateIn}" />
                        <f:passThroughAttribute name="data-animateout"
                            value="#{cc.attrs.animateOut}" />
                        <ul
                            class="#{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) ? 'bShadow8dp' : ''} animate animate-#{cc.attrs.animateIn} #{bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) and cc.attrs.position == 'right' ? 'toXrightYtop' : bbClevcore.isComponent(bbClevcore.NAVBAR_MENU, cc.parent) or bbClevcore.isComponent(bbClevcore.NAVBAR_MAIN, cc.parent) and  cc.attrs.position == 'left' ? 'toXleftYtop' : ''} #{cc.attrs.styleClass}">
                            <composite:insertChildren />
                            <h:panelGroup
                                rendered="#{bbClevcore.isComponent(bbClevcore.NAVBAR_SIDE, cc.parent)}">
                                <script>initAccordionNavbarItems("#{cc.clientId}:navbarItems");</script>
                            </h:panelGroup>
                        </ul>
                    </h:panelGroup>
                </h:panelGroup>
            </li>
        </h:panelGroup>
    </composite:implementation>
</ui:composition>